<!doctype html>
<html>
  <head>
    <style>
      body {
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: transparent;
      }
      #rive-canvas {
        width: 100%;
        height: 100%;
        max-width: 500px;
        max-height: 500px;
      }
    </style>
  </head>

  <body>
    <canvas id="rive-canvas"></canvas>
    <script type="module">
      import rive from "https://cdn.jsdelivr.net/npm/@rive-app/canvas@2.19.4/+esm";

      const layout = new rive.Layout({
        fit: rive.Fit.FitWidth, // Change to: rive.Fit.Contain, or Cover
        alignment: rive.Alignment.Center,
      });

      const riveCanvas = document.getElementById("rive-canvas");

      // Decode the base64 data
      const base64Data = "{{BASE64_DATA}}";
      const binaryString = atob(base64Data);
      const bytes = new Uint8Array(binaryString.length);
      for (let i = 0; i < binaryString.length; i++) {
        bytes[i] = binaryString.charCodeAt(i);
      }

      const riveInstance = new rive.Rive({
        buffer: bytes.buffer,
        // stateMachines: "Motion",
        canvas: riveCanvas,
        layout,
        autoplay: true,
        onLoad: () => {
          riveInstance.resizeDrawingSurfaceToCanvas();
        },
      });
    </script>
  </body>
</html>
